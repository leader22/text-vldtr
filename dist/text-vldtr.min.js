/*! text-vldtr / @version:0.1.2 @author:@leader22 @license:MIT */ 
!function(e){"use strict";function t(e){return R.indexOf(e)<0}function r(){var e,r,i,n={};if(this.minLen>this.maxLen)throw new Error("maxLen is lower than minLen.");if(this.required.kind.length<this.required.combineNum)throw new Error("Required combineNum is bigger than required kind types.");if(i=this.forbidden,i.length)for(e=0,r=i.length;r>e;e++)if(t(i[e]))throw new Error("Invalid kind was found in forbidden types.");if(i=this.required.kind,i.length)for(e=0,r=i.length;r>e;e++)if(t(i[e]))throw new Error("Invalid kind was found in required types.");if(i=this.forbidden.concat(this.required.kind),i.length)for(e=0,r=i.length;r>e;e++){if(i[e]in n)throw new Error("Some kind duplicated in required and forbidden.");n[i[e]]=1}if(this.useStrictMode&&0===this.required.kind.length)throw new Error("Required charcters kind is not defined but you use strict mode.");if(this.useStrictMode&&this.forbidden.length)throw new Error("Do not need forbidden charcters when you use strict mode.")}function i(){for(var e,t=this.required.kind,r=0,i=t.length;i>r;r++)e=t[r],this._strictModeRegExpArr.push(new RegExp(T[e],"g"))}function n(e){return this._isEmpty(e)?l.IS_EMPTY:this._isInvalidLen(e)?l.INVALID_LENGTH:this._hasNotRequired(e)?l.NOT_REQUIRED_CHARACTER:this._hasForbiddenChar(e)?l.FORBIDDEN_CHARACTER:this._isInvalidCombination(e)?l.INVALID_COMBINATION:this._hasSameANRepeated(e)?l.HAS_SAME_AN_REPEATED:this._hasOrderRepeatedAN(e)?l.HAS_ORDER_REPEATED_AN:this._hasSimpleWord(e)?l.HAS_SIMPLE_WORD:l.VALID}function o(e){return g.test(e)?l.VALID:l.MAY_NOT_BE_EMAIL}function d(){return R}function s(e){var t={},r=1,i=1;if(!e||0===e.length)return t={score:r,rank:i};r+=e.length/3|0;for(var n,o,d=0,s=R.length;s>d;d++)n=R[d],o=O[n],o(e)&&(r+=3);return this._hasSameANRepeated(e)&&(r-=3),this._hasOrderRepeatedAN(e)&&(r-=3),this._hasSimpleWord(e)&&(r-=2),this._isEmpty(e)&&(r=0),r>15?i=5:r>12?i=4:r>9?i=3:r>5&&(i=2),t={score:r,rank:i}}function a(e){return 0===this.minLen?!1:0===e.length?!0:!1}function h(e){return e.length<this.minLen?!0:this.maxLen&&e.length>this.maxLen?!0:!1}function u(e){if(!this.useStrictMode)return!1;for(var t,r,i=e.length,n=0,o=this._strictModeRegExpArr.length;o>n;n++)t=this._strictModeRegExpArr[n],r=e.match(t),r&&(i-=r.length);return i?!0:!1}function c(e){for(var t,r,i=this.required.kind,n=this.required.combineNum,o=0,d=0,s=i.length;s>d;d++)t=i[d],r=O[t],r(e)&&o++;return n>o?!0:!1}function E(e){for(var t,r,i=this.forbidden,n=0,o=i.length;o>n;n++)if(t=i[n],(r=O[t])(e))return!0;return!1}function A(e){if(this.acceptSameANRepeat)return!1;var t=O.SAME_AN_REPEATED;return t(e)?!0:!1}function _(e){if(this.acceptOrderANRepeat)return!1;var t=O.ORDER_REPEEATED_AN;return t(e)?!0:!1}function f(e){if(this.acceptSimpleWord)return!1;var t=O.HAS_SIMPLE_WORD;return t(e)?!0:!1}var R=["JAPANESE","NUMBER","SYMBOL","LC_ALPHABET","UC_ALPHABET"],l={VALID:{code:0,codeStr:"VALID",detail:"Input text is valid."},IS_EMPTY:{code:1,codeStr:"IS_EMPTY",detail:"Input text has no length.(maybe empty)"},INVALID_LENGTH:{code:2,codeStr:"INVALID_LENGTH",detail:"Input text is too short or too long."},FORBIDDEN_CHARACTER:{code:3,codeStr:"FORBIDDEN_CHARACTER",detail:"Input text has forbidden character."},INVALID_COMBINATION:{code:4,codeStr:"INVALID_COMBINATION",detail:"Input text does not have valid combination."},HAS_SAME_AN_REPEATED:{code:5,codeStr:"HAS_SAME_AN_REPEATED",detail:"Input text has same A/N repeatedly some times."},HAS_ORDER_REPEATED_AN:{code:6,codeStr:"HAS_ORDER_REPEATED_AN",detail:"Input text has A/N repeatedly ordered."},HAS_SIMPLE_WORD:{code:7,codeStr:"HAS_SIMPLE_WORD",detail:"Input text has some simple word."},NOT_REQUIRED_CHARACTER:{code:8,codeStr:"NOT_REQUIRED_CHARACTER",detail:"Input text has some character does not required."},MAY_NOT_BE_EMAIL:{code:11,codeStr:"MAY_NOT_BE_EMAIL",detail:"Input text may not be an email address."}},p=/[A-Z]/,S=/[a-z]/,N=/[0-9]/,m=/[亜-熙ぁ-んァ-ヶ]/,I=/[\[\]!@#\$%^&\*?_,~\"\$\'\(\)=\|\-\;\:\.\/\`\{\}\+\>\\]/,L=/([a-zA-Z0-9])\1\1/,g=/.+@.+\..+/,M=["abcdefghijklmnopqrstuvwxyzabc","zyxwvutsrqponmlkjihgfedcbazyx","1234567890123","0987654321098"],D=[/p[a@]ss/i,/qwerty/i],T={UC_ALPHABET:p.source,LC_ALPHABET:S.source,NUMBER:N.source,JAPANESE:m.source,SYMBOL:I.source},O={JAPANESE:function(e){return m.test(e)},NUMBER:function(e){return N.test(e)},SYMBOL:function(e){return I.test(e)},LC_ALPHABET:function(e){return S.test(e)},UC_ALPHABET:function(e){return p.test(e)},SAME_AN_REPEATED:function(e){return L.test(e)},ORDER_REPEEATED_AN:function(e){var t,r,i,n,o,d,s,a=3;for(t=0,r=M.length;r>t;t++)for(o=M[t],i=0,n=o.length;n>i;i++)if(d=o.substr(i,a),d.length===a&&(s=new RegExp(d,"i"),s.test(e)))return!0;return!1},HAS_SIMPLE_WORD:function(e){for(var t,r=0,i=D.length;i>r;r++)if(t=D[r],t.test(e))return!0;return!1}},x=function(e){e=e||{},this.minLen=e.minLen||0,this.maxLen=e.maxLen||1/0,this.forbidden=e.forbidden||[],this.required=e.required||{kind:[],combineNum:0},this.acceptOrderANRepeat=e.acceptOrderANRepeat!==!1?!0:!1,this.acceptSameANRepeat=e.acceptSameANRepeat!==!1?!0:!1,this.acceptSimpleWord=e.acceptSimpleWord!==!1?!0:!1,this.useStrictMode=e.useStrictMode!==!0?!1:!0,this._strictModeRegExpArr=[],this._checkRules(),this.useStrictMode&&this._getStrictModeRegExp()};x.prototype={constructor:x,validateText:n,validateEmailMayBe:o,getAvailableKinds:d,getComplexityScore:s,_checkRules:r,_getStrictModeRegExp:i,_isEmpty:a,_isInvalidLen:h,_hasNotRequired:u,_isInvalidCombination:c,_hasForbiddenChar:E,_hasSameANRepeated:A,_hasOrderRepeatedAN:_,_hasSimpleWord:f};var b="function"==typeof e.define&&e.define.amd,v="object"==typeof e.exports&&e.exports,P="process"in e;b?define([],function(){return x}):v||P?module.exports=x:e.TextVldtr=x}(this.self||global);