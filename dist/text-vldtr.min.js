/*! text-vldtr / @version:0.1.1 @author:@leader22 @license:MIT */ 
!function(e){"use strict";function t(e){return f.indexOf(e)<0}function r(){var e,r,n,i={};if(this.minLen>this.maxLen)throw new Error("maxLen is lower than minLen.");if(this.required.kind.length<this.required.combineNum)throw new Error("Required combineNum is bigger than required kind types.");if(n=this.forbidden,n.length)for(e=0,r=n.length;r>e;e++)if(t(n[e]))throw new Error("Invalid kind was found in forbidden types.");if(n=this.required.kind,n.length)for(e=0,r=n.length;r>e;e++)if(t(n[e]))throw new Error("Invalid kind was found in required types.");if(n=this.forbidden.concat(this.required.kind),n.length)for(e=0,r=n.length;r>e;e++){if(n[e]in i)throw new Error("Some kind duplicated in required and forbidden.");i[n[e]]=1}if(this.useStrictMode&&0===this.required.kind.length)throw new Error("Required charcters kind is not defined but you use strict mode.");if(this.useStrictMode&&this.forbidden.length)throw new Error("Do not need forbidden charcters when you use strict mode.")}function n(e){return this._isEmpty(e)?l.IS_EMPTY:this._isInvalidLen(e)?l.INVALID_LENGTH:this._hasNotRequired(e)?l.NOT_REQUIRED_CHARACTER:this._hasForbiddenChar(e)?l.FORBIDDEN_CHARACTER:this._isInvalidCombination(e)?l.INVALID_COMBINATION:this._hasSameANRepeated(e)?l.HAS_SAME_AN_REPEATED:this._hasOrderRepeatedAN(e)?l.HAS_ORDER_REPEATED_AN:this._hasSimpleWord(e)?l.HAS_SIMPLE_WORD:l.VALID}function i(e){return L.test(e)?l.VALID:l.MAY_NOT_BE_EMAIL}function o(){return f}function d(e){var t={},r=1,n=1;if(!e||0===e.length)return t={score:r,rank:n};r+=e.length/3|0;for(var i,o,d=0,s=f.length;s>d;d++)i=f[d],o=O[i],o(e)&&(r+=3);return this._hasSameANRepeated(e)&&(r-=3),this._hasOrderRepeatedAN(e)&&(r-=3),this._hasSimpleWord(e)&&(r-=2),this._isEmpty(e)&&(r=0),r>15?n=5:r>12?n=4:r>9?n=3:r>5&&(n=2),t={score:r,rank:n}}function s(e){return 0===this.minLen?!1:0===e.length?!0:!1}function a(e){return e.length<this.minLen?!0:this.maxLen&&e.length>this.maxLen?!0:!1}function h(e){if(!this.useStrictMode)return!1;for(var t,r,n,i=e.length,o=this.required.kind,d=0,s=o.length;s>d;d++)t=o[d],r=new RegExp(g[t],"g"),n=e.match(r),n&&(i-=e.match(r).length);return i?!0:!1}function u(e){for(var t,r,n=this.required.kind,i=this.required.combineNum,o=0,d=0,s=n.length;s>d;d++)t=n[d],r=O[t],r(e)&&o++;return i>o?!0:!1}function c(e){for(var t,r,n=this.forbidden,i=0,o=n.length;o>i;i++)if(t=n[i],(r=O[t])(e))return!0;return!1}function E(e){if(this.acceptSameANRepeat)return!1;var t=O.SAME_AN_REPEATED;return t(e)?!0:!1}function A(e){if(this.acceptOrderANRepeat)return!1;var t=O.ORDER_REPEEATED_AN;return t(e)?!0:!1}function _(e){if(this.acceptSimpleWord)return!1;var t=O.HAS_SIMPLE_WORD;return t(e)?!0:!1}var f=["JAPANESE","NUMBER","SYMBOL","LC_ALPHABET","UC_ALPHABET"],l={VALID:{code:0,codeStr:"VALID",detail:"Input text is valid."},IS_EMPTY:{code:1,codeStr:"IS_EMPTY",detail:"Input text has no length.(maybe empty)"},INVALID_LENGTH:{code:2,codeStr:"INVALID_LENGTH",detail:"Input text is too short or too long."},FORBIDDEN_CHARACTER:{code:3,codeStr:"FORBIDDEN_CHARACTER",detail:"Input text has forbidden character."},INVALID_COMBINATION:{code:4,codeStr:"INVALID_COMBINATION",detail:"Input text does not have valid combination."},HAS_SAME_AN_REPEATED:{code:5,codeStr:"HAS_SAME_AN_REPEATED",detail:"Input text has same A/N repeatedly some times."},HAS_ORDER_REPEATED_AN:{code:6,codeStr:"HAS_ORDER_REPEATED_AN",detail:"Input text has A/N repeatedly ordered."},HAS_SIMPLE_WORD:{code:7,codeStr:"HAS_SIMPLE_WORD",detail:"Input text has some simple word."},NOT_REQUIRED_CHARACTER:{code:8,codeStr:"NOT_REQUIRED_CHARACTER",detail:"Input text has some character does not required."},MAY_NOT_BE_EMAIL:{code:11,codeStr:"MAY_NOT_BE_EMAIL",detail:"Input text may not be an email address."}},R=/[A-Z]/,p=/[a-z]/,N=/[0-9]/,m=/[亜-熙ぁ-んァ-ヶ]/,S=/[\[\]!@#\$%^&\*?_,~\"\$\'\(\)=\|\-\;\:\.\/\`\{\}\+\>\\]/,I=/([a-zA-Z0-9])\1\1/,L=/.+@.+\..+/,D=["abcdefghijklmnopqrstuvwxyzabc","zyxwvutsrqponmlkjihgfedcbazyx","1234567890123","0987654321098"],T=["pass","p@ss"],g={UC_ALPHABET:R.source,LC_ALPHABET:p.source,NUMBER:N.source,JAPANESE:m.source,SYMBOL:S.source},O={JAPANESE:function(e){return m.test(e)},NUMBER:function(e){return N.test(e)},SYMBOL:function(e){return S.test(e)},LC_ALPHABET:function(e){return p.test(e)},UC_ALPHABET:function(e){return R.test(e)},SAME_AN_REPEATED:function(e){return I.test(e)},ORDER_REPEEATED_AN:function(e){var t,r,n,i,o,d,s,a=3;for(t=0,r=D.length;r>t;t++)for(o=D[t],n=0,i=o.length;i>n;n++)if(d=o.substr(n,a),d.length===a&&(s=new RegExp(d,"i"),s.test(e)))return!0;return!1},HAS_SIMPLE_WORD:function(e){for(var t,r=0,n=T.length;n>r;r++)if(t=new RegExp(T[r],"i"),t.test(e))return!0;return!1}},M=function(e){e=e||{},this.minLen=e.minLen||0,this.maxLen=e.maxLen||1/0,this.forbidden=e.forbidden||[],this.required=e.required||{kind:[],combineNum:0},this.acceptOrderANRepeat=e.acceptOrderANRepeat!==!1?!0:!1,this.acceptSameANRepeat=e.acceptSameANRepeat!==!1?!0:!1,this.acceptSimpleWord=e.acceptSimpleWord!==!1?!0:!1,this.useStrictMode=e.useStrictMode!==!0?!1:!0,this._checkRules()};M.prototype={constructor:M,validateText:n,validateEmailMayBe:i,getAvailableKinds:o,getComplexityScore:d,_checkRules:r,_isEmpty:s,_isInvalidLen:a,_hasNotRequired:h,_isInvalidCombination:u,_hasForbiddenChar:c,_hasSameANRepeated:E,_hasOrderRepeatedAN:A,_hasSimpleWord:_};var b="function"==typeof e.define&&e.define.amd,x="object"==typeof e.exports&&e.exports,v="process"in e;b?define([],function(){return M}):x||v?module.exports=M:e.TextVldtr=M}(this.self||global);