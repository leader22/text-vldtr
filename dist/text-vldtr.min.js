/*! text-vldtr / @version:0.0.0 @author:@leader22 @license:MIT */ 
!function(e){"use strict";function t(e){return _.indexOf(e)<0}function n(){var e,n,i,r={};if(this.minLen>this.maxLen)throw new Error("maxLen is lower than minLen.");if(this.required.kind.length<this.required.combineNum)throw new Error("Required combineNum is bigger than required kind types.");if(i=this.forbidden,i.length)for(e=0,n=i.length;n>e;e++)if(t(i[e]))throw new Error("Invalid kind was found in forbidden types.");if(i=this.required.kind,i.length)for(e=0,n=i.length;n>e;e++)if(t(i[e]))throw new Error("Invalid kind was found in required types.");if(i=this.forbidden.concat(this.required.kind),i.length)for(e=0,n=i.length;n>e;e++){if(i[e]in r)throw new Error("Some kind duplicated in required and forbidden.");r[i[e]]=1}}function i(e){return this._isEmpty(e)?f.IS_EMPTY:this._isInvalidLen(e)?f.INVALID_LENGTH:this._hasForbiddenChar(e)?f.FORBIDDEN_CHARACTER:this._isInvalidCombination(e)?f.INVALID_COMBINATION:this._hasSameANRepeated(e)?f.HAS_SAME_AN_REPEATED:this._hasOrderRepeatedAN(e)?f.HAS_ORDER_REPEATED_AN:this._hasSimpleWord(e)?f.HAS_SIMPLE_WORD:f.VALID}function r(e){return S.test(e)?f.VALID:f.MAY_NOT_BE_EMAIL}function o(){return _}function d(e){var t={},n=1,i=1;n+=e.length/3|0;for(var r,o,d=0,a=_.length;a>d;d++)r=_[d],o=O[r],o(e)&&(n+=3);this._hasSameANRepeated(e)&&(n-=3),this._hasOrderRepeatedAN(e)&&(n-=3),this._hasSimpleWord(e)&&(n-=2),this._isEmpty(e)&&(n=0),n>15?i=5:n>12?i=4:n>9?i=3:n>5&&(i=2),t={score:n,rank:i}}function a(e){return 0===this.minLen?!1:0===e.length?!0:!1}function s(e){return e.length<this.minLen?!0:this.maxLen&&e.length>this.maxLen?!0:!1}function A(e){for(var t,n,i=this.required.kind,r=this.required.combineNum,o=0,d=0,a=i.length;a>d;d++)t=i[d],n=O[t],n(e)&&o++;return r>o?!0:!1}function h(e){for(var t,n,i=this.forbidden,r=0,o=i.length;o>r;r++)if(t=i[r],(n=O[t])(e))return!0;return!1}function u(e){if(this.acceptSameANRepeat)return!1;var t=O.SAME_AN_REPEATED;return t(e)?!0:!1}function E(e){if(this.acceptOrderANRepeat)return!1;var t=O.ORDER_REPEEATED_AN;return t(e)?!0:!1}function c(e){if(this.acceptSimpleWord)return!1;var t=O.HAS_SIMPLE_WORD;return t(e)?!0:!1}var _=["JAPANESE","NUMBER","SYMBOL","LC_ALPHABET","UC_ALPHABET"],f={VALID:{code:0,codeStr:"VALID",detail:"Input text is valid."},IS_EMPTY:{code:1,codeStr:"IS_EMPTY",detail:"Input text has no length.(maybe empty)"},INVALID_LENGTH:{code:2,codeStr:"INVALID_LENGTH",detail:"Input text is too short or too long."},FORBIDDEN_CHARACTER:{code:3,codeStr:"FORBIDDEN_CHARACTER",detail:"Input text has forbidden character."},INVALID_COMBINATION:{code:4,codeStr:"INVALID_COMBINATION",detail:"Input text does not have valid combination."},HAS_SAME_AN_REPEATED:{code:5,codeStr:"HAS_SAME_AN_REPEATED",detail:"Input text has same A/N repeatedly some times."},HAS_ORDER_REPEATED_AN:{code:6,codeStr:"HAS_ORDER_REPEATED_AN",detail:"Input text has A/N repeatedly ordered."},HAS_SIMPLE_WORD:{code:7,codeStr:"HAS_SIMPLE_WORD",detail:"Input text has some simple word."},MAY_NOT_BE_EMAIL:{code:11,codeStr:"MAY_NOT_BE_EMAIL",detail:"Input text may not be an email address."}},l=/[A-Z]/,p=/[a-z]/,m=/[0-9]/,N=/[亜-熙ぁ-んァ-ヶ]/,R=/[\[\]!@#\$%^&\*?_,~\"\$\'\(\)=\|\-\;\:\.\/\`\{\}\+\>\\ ]/,I=/([a-zA-Z0-9])\1\1/,S=/.+@.+\..+/,L=["abcdefghijklmnopqrstuvwxyzabc","zyxwvutsrqponmlkjihgfedcbazyx","1234567890123","0987654321098"],D=["pass","p@ss"],O={JAPANESE:function(e){return N.test(e)},NUMBER:function(e){return m.test(e)},SYMBOL:function(e){return R.test(e)},LC_ALPHABET:function(e){return p.test(e)},UC_ALPHABET:function(e){return l.test(e)},SAME_AN_REPEATED:function(e){return I.test(e)},ORDER_REPEEATED_AN:function(e){var t,n,i,r,o,d,a,s=3;for(t=0,n=L.length;n>t;t++)for(o=L[t],i=0,r=o.length;r>i;i++)if(d=o.substr(i,s),d.length===s&&(a=new RegExp(d,"i"),a.test(e)))return!0;return!1},HAS_SIMPLE_WORD:function(e){for(var t,n=0,i=D.length;i>n;n++)if(t=new RegExp(D[n],"i"),t.test(e))return!0;return!1}},T=function(e){e=e||{},this.minLen=e.minLen||0,this.maxLen=e.maxLen||1/0,this.forbidden=e.forbidden||[],this.required=e.required||{kind:[],combineNum:0},this.acceptOrderANRepeat=e.acceptOrderANRepeat||!1,this.acceptSameANRepeat=e.acceptSameANRepeat||!1,this.acceptSimpleWord=e.acceptSimpleWord||!1,this._checkRules()};T.prototype={constructor:T,validateText:i,validateEmailMayBe:r,getAvailableKinds:o,getComplexityScore:d,_checkRules:n,_isEmpty:a,_isInvalidLen:s,_isInvalidCombination:A,_hasForbiddenChar:h,_hasSameANRepeated:u,_hasOrderRepeatedAN:E,_hasSimpleWord:c};var g="function"==typeof e.define&&e.define.amd,b="object"==typeof e.exports&&e.exports;g?define([],function(){return T}):b?module.exports=T:e.TextVldtr=T}(this.self||global);